

<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>刷题倒计时计算器</title>
    <link href="https://fonts.googleapis.com/css?family=Nunito:400,700&display=swap" rel="stylesheet">
    <style>
        /* CSS 样式 */
    </style>
</head>
<body>
    <div class="container">
        <h2>刷题倒计时计算器</h2>
        <div>
            <label for="examDateOption">选择日期:</label>
            <select id="examDateOption" onchange="selectDate()">
                <option value="fixed">2024年4月13日</option>
                <option value="custom">选择其他日期</option>
            </select>
        </div>
        <div id="customDateInput" style="display:none;">
            <label for="examDate">考试日期:</label>
            <input type="date" id="examDate" name="examDate">
        </div>
        <div>
            <label for="totalQuestions">题库题目总量:</label>
            <input type="number" id="totalQuestions" name="totalQuestions" min="1">
        </div>
        <div>
            <label for="questionsDone">已刷题目数:</label>
            <input type="number" id="questionsDone" name="questionsDone" min="0">
        </div>
        <!-- 新增的四个题库的输入框 -->
<div>
    <label for="questionBank1">题库1已刷题目数:</label>
    <input type="number" id="questionBank1" name="questionBank1" min="0" onchange="updateTotalQuestionsDone()">
</div>
<div>
    <label for="questionBank2">题库2已刷题目数:</label>
    <input type="number" id="questionBank2" name="questionBank2" min="0" onchange="updateTotalQuestionsDone()">
</div>
<div>
    <label for="questionBank3">题库3已刷题目数:</label>
    <input type="number" id="questionBank3" name="questionBank3" min="0" onchange="updateTotalQuestionsDone()">
</div>
<div>
    <label for="questionBank4">题库4已刷题目数:</label>
    <input type="number" id="questionBank4" name="questionBank4" min="0" onchange="updateTotalQuestionsDone()">
</div>

        <button onclick="calculate()">计算</button>
        <div id="result"></div>
    </div>

    <script>
        var examDateInput = document.getElementById('examDate');
        var totalQuestionsInput = document.getElementById('totalQuestions');
        var questionsDoneInput = document.getElementById('questionsDone');
        var examDateOption = document.getElementById('examDateOption');
        var customDateInput = document.getElementById('customDateInput');
function updateTotalQuestionsDone() {
    var sum = 0;
    sum += parseInt(document.getElementById('questionBank1').value) || 0;
    sum += parseInt(document.getElementById('questionBank2').value) || 0;
    sum += parseInt(document.getElementById('questionBank3').value) || 0;
    sum += parseInt(document.getElementById('questionBank4').value) || 0;
    document.getElementById('questionsDone').value = sum;
}

        // 选择日期
        function selectDate() {
            var option = examDateOption.value;
            customDateInput.style.display = (option === 'custom') ? 'block' : 'none';
        }

        // 页面加载时填充数据
        window.onload = function() {
            selectDate();
            if (localStorage.getItem('totalQuestions')) {
                totalQuestionsInput.value = localStorage.getItem('totalQuestions');
            }
            if (localStorage.getItem('questionsDone')) {
                questionsDoneInput.value = localStorage.getItem('questionsDone');
            }
        };

        // 计算函数
        function calculate() {
            // 根据选择设置考试日期
            var examDate = (examDateOption.value === 'fixed') ? new Date('2024-04-13') : new Date(examDateInput.value);
            var totalQuestions = parseInt(totalQuestionsInput.value, 10);
            var questionsDone = parseInt(questionsDoneInput.value, 10);

            // 保存数据到localStorage
            localStorage.setItem('totalQuestions', totalQuestionsInput.value);
            localStorage.setItem('questionsDone', questionsDoneInput.value);

            // 计算剩余天数和每天需要刷的题目数
            var currentDate = new Date();
            var timeDiff = examDate - currentDate;
            var daysRemaining = Math.ceil(timeDiff / (1000 * 60 * 60 * 24));

            if (daysRemaining > 0 && totalQuestions > questionsDone) {
                var questionsPerDay = Math.ceil((totalQuestions - questionsDone) / daysRemaining);
                document.getElementById('result').textContent = "您需要每天刷 " + questionsPerDay + " 题";
            } else if (daysRemaining <= 0) {
                document.getElementById('result').textContent = "考试已经到了或过了日期!";
            } else {
                document.getElementById('result').textContent = "您已经完成了所有题目！";
            }
        }
    </script>
</body>
</html>
